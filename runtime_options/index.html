
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Analyzes resource usage and performance characteristics of running containers.">
      
      
        <meta name="author" content="QubitPi (https://github.com/Qubitpi)">
      
      
        <link rel="canonical" href="https://cadvisor.qubitpi.org/runtime_options/">
      
      
        <link rel="prev" href="../running/">
      
      
        <link rel="next" href="../web/">
      
      
      <link rel="icon" href="../assets/logo/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Runtime Options - cAdvisor Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CUbuntu+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Poppins";--md-code-font:"Ubuntu Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/css/customizations.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cadvisor-runtime-options" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="cAdvisor Documentation" class="md-header__button md-logo" aria-label="cAdvisor Documentation" data-md-component="logo">
      
  <img src="https://github.com/QubitPi/cadvisor/raw/master/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cAdvisor Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Runtime Options
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/QubitPi/cadvisor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cadvisor
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../api/" class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../storage/" class="md-tabs__link">
          
  
  
  Storage Plugins

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../development/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="cAdvisor Documentation" class="md-nav__button md-logo" aria-label="cAdvisor Documentation" data-md-component="logo">
      
  <img src="https://github.com/QubitPi/cadvisor/raw/master/logo.png" alt="logo">

    </a>
    cAdvisor Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/QubitPi/cadvisor" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    cadvisor
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REST API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    REST API V2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clients/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Clients
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../running/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Running cAdvisor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Runtime Options
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Runtime Options
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#container-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Container labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-envs" class="md-nav__link">
    <span class="md-ellipsis">
      Container envs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limiting-which-containers-are-monitored" class="md-nav__link">
    <span class="md-ellipsis">
      Limiting which containers are monitored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Container Hints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      CPU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging and Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podman" class="md-nav__link">
    <span class="md-ellipsis">
      Podman
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#housekeeping" class="md-nav__link">
    <span class="md-ellipsis">
      Housekeeping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Housekeeping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dynamic-housekeeping" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Housekeeping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#housekeeping-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Housekeeping Intervals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-storage-duration" class="md-nav__link">
    <span class="md-ellipsis">
      Local Storage Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine" class="md-nav__link">
    <span class="md-ellipsis">
      Machine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-drivers" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Drivers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perf-events" class="md-nav__link">
    <span class="md-ellipsis">
      Perf Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perf Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perf-subsystem-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Perf subsystem introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perf subsystem introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-config-values" class="md-nav__link">
    <span class="md-ellipsis">
      Getting config values
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting config values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uncore-events-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Uncore Events configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-perf-events-by-name" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring perf events by name
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring perf events by name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-configuration-of-perf-events-using-event-names-supported-in-libpfm4" class="md-nav__link">
    <span class="md-ellipsis">
      Example configuration of perf events using event names supported in libpfm4
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouping" class="md-nav__link">
    <span class="md-ellipsis">
      Grouping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Further reading
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resctrl" class="md-nav__link">
    <span class="md-ellipsis">
      Resctrl
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-driver-specific-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Storage driver specific instructions:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../web/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web UI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Storage Plugins
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Storage Plugins
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage Plugins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/elasticsearch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ElasticSearch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/influxdb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    InfluxDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/kafka/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kafka
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../storage/statsd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    statsd
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/build/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building and Testing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/integration_testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Integration Test
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Issue Tracking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/releasing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Releasing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#container-labels" class="md-nav__link">
    <span class="md-ellipsis">
      Container labels
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-envs" class="md-nav__link">
    <span class="md-ellipsis">
      Container envs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#limiting-which-containers-are-monitored" class="md-nav__link">
    <span class="md-ellipsis">
      Limiting which containers are monitored
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container-hints" class="md-nav__link">
    <span class="md-ellipsis">
      Container Hints
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cpu" class="md-nav__link">
    <span class="md-ellipsis">
      CPU
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debugging-and-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Debugging and Logging
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" class="md-nav__link">
    <span class="md-ellipsis">
      Docker
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#podman" class="md-nav__link">
    <span class="md-ellipsis">
      Podman
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#housekeeping" class="md-nav__link">
    <span class="md-ellipsis">
      Housekeeping
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Housekeeping">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dynamic-housekeeping" class="md-nav__link">
    <span class="md-ellipsis">
      Dynamic Housekeeping
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#housekeeping-intervals" class="md-nav__link">
    <span class="md-ellipsis">
      Housekeeping Intervals
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http" class="md-nav__link">
    <span class="md-ellipsis">
      HTTP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#local-storage-duration" class="md-nav__link">
    <span class="md-ellipsis">
      Local Storage Duration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#machine" class="md-nav__link">
    <span class="md-ellipsis">
      Machine
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-drivers" class="md-nav__link">
    <span class="md-ellipsis">
      Storage Drivers
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#perf-events" class="md-nav__link">
    <span class="md-ellipsis">
      Perf Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perf Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#perf-subsystem-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      Perf subsystem introduction
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Perf subsystem introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-config-values" class="md-nav__link">
    <span class="md-ellipsis">
      Getting config values
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Getting config values">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uncore-events-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Uncore Events configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-perf-events-by-name" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring perf events by name
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuring perf events by name">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-configuration-of-perf-events-using-event-names-supported-in-libpfm4" class="md-nav__link">
    <span class="md-ellipsis">
      Example configuration of perf events using event names supported in libpfm4
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouping" class="md-nav__link">
    <span class="md-ellipsis">
      Grouping
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Further reading
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resctrl" class="md-nav__link">
    <span class="md-ellipsis">
      Resctrl
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-driver-specific-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Storage driver specific instructions:
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/QubitPi/cadvisor/edit/master/docs/runtime_options.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/QubitPi/cadvisor/raw/master/docs/runtime_options.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


<h1 id="cadvisor-runtime-options"><a class="toclink" href="#cadvisor-runtime-options">cAdvisor Runtime Options</a></h1>
<p>This document describes a set of runtime flags available in cAdvisor.</p>
<h2 id="container-labels"><a class="toclink" href="#container-labels">Container labels</a></h2>
<ul>
<li><code>--store_container_labels=false</code> - do not convert container labels and environment variables into labels on prometheus metrics for each container.</li>
<li><code>--whitelisted_container_labels</code> - comma separated list of container labels to be converted to labels on prometheus metrics for each container. <code>store_container_labels</code> must be set to false for this to take effect.</li>
</ul>
<h2 id="container-envs"><a class="toclink" href="#container-envs">Container envs</a></h2>
<ul>
<li><code>--env_metadata_whitelist</code>: a comma-separated list of environment variable keys that needs to be collected for containers, only support containerd and docker runtime for now.</li>
</ul>
<h2 id="limiting-which-containers-are-monitored"><a class="toclink" href="#limiting-which-containers-are-monitored">Limiting which containers are monitored</a></h2>
<ul>
<li><code>--docker_only=false</code> - do not report raw cgroup metrics, except the root cgroup.</li>
<li><code>--raw_cgroup_prefix_whitelist</code> - a comma-separated list of cgroup path prefix that needs to be collected even when <code>--docker_only</code> is specified</li>
<li><code>--disable_root_cgroup_stats=false</code> - disable collecting root Cgroup stats.</li>
</ul>
<h2 id="container-hints"><a class="toclink" href="#container-hints">Container Hints</a></h2>
<p>Container hints are a way to pass extra information about a container to cAdvisor. In this way cAdvisor can augment the stats it gathers. For more information on the container hints format see its <a href="https://github.com/QubitPi/cadvisor/blob/master/container/common/container_hints.go">definition</a>. Note that container hints are only used by the raw container driver today.</p>
<div class="highlight"><pre><span></span><code>--container_hints=&quot;/etc/cadvisor/container_hints.json&quot;: location of the container hints file
</code></pre></div>
<h2 id="cpu"><a class="toclink" href="#cpu">CPU</a></h2>
<div class="highlight"><pre><span></span><code>--enable_load_reader=false: Whether to enable cpu load reader
--max_procs=0: max number of CPUs that can be used simultaneously. Less than 1 for default (number of cores).
</code></pre></div>
<h2 id="debugging-and-logging"><a class="toclink" href="#debugging-and-logging">Debugging and Logging</a></h2>
<p>cAdvisor-native flags that help in debugging:</p>
<div class="highlight"><pre><span></span><code>--log_backtrace_at=&quot;&quot;: when logging hits line file:N, emit a stack trace
--log_cadvisor_usage=false: Whether to log the usage of the cAdvisor container
--version=false: print cAdvisor version and exit
--profiling=false: Enable profiling via web interface host:port/debug/pprof/
</code></pre></div>
<p>From <a href="https://github.com/golang/glog">glog</a> here are some flags we find useful:</p>
<div class="highlight"><pre><span></span><code>--log_dir=&quot;&quot;: If non-empty, write log files in this directory
--logtostderr=false: log to standard error instead of files
--alsologtostderr=false: log to standard error as well as files
--stderrthreshold=0: logs at or above this threshold go to stderr
--v=0: log level for V logs
--vmodule=: comma-separated list of pattern=N settings for file-filtered logging
</code></pre></div>
<h2 id="docker"><a class="toclink" href="#docker">Docker</a></h2>
<div class="highlight"><pre><span></span><code>--docker=&quot;unix:///var/run/docker.sock&quot;: docker endpoint (default &quot;unix:///var/run/docker.sock&quot;)
--docker_root=&quot;/var/lib/docker&quot;: DEPRECATED: docker root is read from docker info (this is a fallback, default: /var/lib/docker) (default &quot;/var/lib/docker&quot;)
--docker-tls: use TLS to connect to docker
--docker-tls-cert=&quot;cert.pem&quot;: client certificate for TLS-connection with docker
--docker-tls-key=&quot;key.pem&quot;: private key for TLS-connection with docker
--docker-tls-ca=&quot;ca.pem&quot;: trusted CA for TLS-connection with docker
</code></pre></div>
<h2 id="podman"><a class="toclink" href="#podman">Podman</a></h2>
<div class="highlight"><pre><span></span><code>--podman<span class="o">=</span><span class="s2">&quot;unix:///var/run/podman/podman.sock&quot;</span>:<span class="w"> </span>podman<span class="w"> </span>endpoint<span class="w"> </span><span class="o">(</span>default<span class="w"> </span><span class="s2">&quot;unix:///var/run/podman/podman.sock&quot;</span><span class="o">)</span>
</code></pre></div>
<h2 id="housekeeping"><a class="toclink" href="#housekeeping">Housekeeping</a></h2>
<p>Housekeeping is the periodic actions cAdvisor takes. During these actions, cAdvisor will gather container stats. These flags control how and when cAdvisor performs housekeeping.</p>
<h4 id="dynamic-housekeeping"><a class="toclink" href="#dynamic-housekeeping">Dynamic Housekeeping</a></h4>
<p>Dynamic housekeeping intervals let cAdvisor vary how often it gathers stats.
It does this depending on how active the container is. Turning this off
provides predictable housekeeping intervals, but increases the resource usage
of cAdvisor.</p>
<div class="highlight"><pre><span></span><code>--allow_dynamic_housekeeping=true: Whether to allow the housekeeping interval to be dynamic
</code></pre></div>
<h4 id="housekeeping-intervals"><a class="toclink" href="#housekeeping-intervals">Housekeeping Intervals</a></h4>
<p>Intervals for housekeeping. cAdvisor has two housekeepings: global and per-container.</p>
<p>Global housekeeping is a singular housekeeping done once in cAdvisor. This typically does detection of new containers. Today, cAdvisor discovers new containers with kernel events so this global housekeeping is mostly used as backup in the case that there are any missed events.</p>
<p>Per-container housekeeping is run once on each container cAdvisor tracks. This typically gets container stats.</p>
<div class="highlight"><pre><span></span><code>--global_housekeeping_interval=1m0s: Interval between global housekeepings
--housekeeping_interval=1s: Interval between container housekeepings
--max_housekeeping_interval=1m0s: Largest interval to allow between container housekeepings (default 1m0s)
</code></pre></div>
<h2 id="http"><a class="toclink" href="#http">HTTP</a></h2>
<p>Specify where cAdvisor listens.</p>
<div class="highlight"><pre><span></span><code>--http_auth_file=&quot;&quot;: HTTP auth file for the web UI
--http_auth_realm=&quot;localhost&quot;: HTTP auth realm for the web UI (default &quot;localhost&quot;)
--http_digest_file=&quot;&quot;: HTTP digest file for the web UI
--http_digest_realm=&quot;localhost&quot;: HTTP digest file for the web UI (default &quot;localhost&quot;)
--listen_ip=&quot;&quot;: IP to listen on, defaults to all IPs
--port=8080: port to listen (default 8080)
--url_base_prefix=/: optional path prefix aded to all resource URLs; useful when running cAdvisor behind a proxy. (default /)
</code></pre></div>
<h2 id="local-storage-duration"><a class="toclink" href="#local-storage-duration">Local Storage Duration</a></h2>
<p>cAdvisor stores the latest historical data in memory. How long of a history it stores can be configured with the <code>--storage_duration</code> flag.</p>
<div class="highlight"><pre><span></span><code>--storage_duration=2m0s: How long to store data.
</code></pre></div>
<h2 id="machine"><a class="toclink" href="#machine">Machine</a></h2>
<div class="highlight"><pre><span></span><code>--boot_id_file=&quot;/proc/sys/kernel/random/boot_id&quot;: Comma-separated list of files to check for boot-id. Use the first one that exists. (default &quot;/proc/sys/kernel/random/boot_id&quot;)
--machine_id_file=&quot;/etc/machine-id,/var/lib/dbus/machine-id&quot;: Comma-separated list of files to check for machine-id. Use the first one that exists. (default &quot;/etc/machine-id,/var/lib/dbus/machine-id&quot;)
--update_machine_info_interval=5m: Interval between machine info updates. (default 5m)
</code></pre></div>
<h2 id="metrics"><a class="toclink" href="#metrics">Metrics</a></h2>
<div class="highlight"><pre><span></span><code>--application_metrics_count_limit=100: Max number of application metrics to store (per container) (default 100)
--collector_cert=&quot;&quot;: Collector&#39;s certificate, exposed to endpoints for certificate based authentication.
--collector_key=&quot;&quot;: Key for the collector&#39;s certificate
--disable_metrics=&lt;metrics&gt;: comma-separated list of metrics to be disabled. Options are advtcp,app,cpu,cpuLoad,cpu_topology,cpuset,disk,diskIO,hugetlb,memory,memory_numa,network,oom_event,percpu,perf_event,process,referenced_memory,resctrl,sched,tcp,udp. (default advtcp,cpu_topology,cpuset,hugetlb,memory_numa,process,referenced_memory,resctrl,sched,tcp,udp)
--enable_metrics=&lt;metrics&gt;: comma-separated list of metrics to be enabled. If set, overrides &#39;disable_metrics&#39;. Options are advtcp,app,cpu,cpuLoad,cpu_topology,cpuset,disk,diskIO,hugetlb,memory,memory_numa,network,oom_event,percpu,perf_event,process,referenced_memory,resctrl,sched,tcp,udp.
--prometheus_endpoint=&quot;/metrics&quot;: Endpoint to expose Prometheus metrics on (default &quot;/metrics&quot;)
--disable_root_cgroup_stats=false: Disable collecting root Cgroup stats
</code></pre></div>
<h2 id="storage-drivers"><a class="toclink" href="#storage-drivers">Storage Drivers</a></h2>
<div class="highlight"><pre><span></span><code>--storage_driver=&quot;&quot;: Storage driver to use. Data is always cached shortly in memory, this controls where data is pushed besides the local cache. Empty means none. Options are: &lt;empty&gt;, bigquery, elasticsearch, influxdb, kafka, redis, statsd, stdout
--storage_driver_buffer_duration=&quot;1m0s&quot;: Writes in the storage driver will be buffered for this duration, and committed to the non memory backends as a single transaction (default 1m0s)
--storage_driver_db=&quot;cadvisor&quot;: database name (default &quot;cadvisor&quot;)
--storage_driver_host=&quot;localhost:8086&quot;: database host:port (default &quot;localhost:8086&quot;)
--storage_driver_password=&quot;root&quot;: database password (default &quot;root&quot;)
--storage_driver_secure=false: use secure connection with database
--storage_driver_table=&quot;stats&quot;: table name (default &quot;stats&quot;)
--storage_driver_user=&quot;root&quot;: database username (default &quot;root&quot;)
</code></pre></div>
<h2 id="perf-events"><a class="toclink" href="#perf-events">Perf Events</a></h2>
<div class="highlight"><pre><span></span><code>--perf_events_config=&quot;&quot; Path to a JSON file containing configuration of perf events to measure. Empty value disables perf events measuring.
</code></pre></div>
<p>Core perf events can be exposed on Prometheus endpoint per CPU or aggregated by event. It is controlled through <code>--disable_metrics</code> and <code>--enable_metrics</code> parameters with option <code>percpu</code>, e.g.:
- <code>--disable_metrics="percpu"</code> - core perf events are aggregated
- <code>--disable_metrics=""</code> - core perf events are exposed per CPU.</p>
<p>It's possible to get "too many opened files" error when a lot of perf events are exposed per CPU. This happens because of passing system limits.
Try to increase max number of file desctriptors with <code>ulimit -n &lt;value&gt;</code>.</p>
<p>Aggregated form of core perf events significantly decrease volume of data. For aggregated form of core perf events scaling ratio (<code>container_perf_metric_scaling ratio</code>) indicates the lowest value of scaling ratio for specific event to show the worst precision.</p>
<h3 id="perf-subsystem-introduction"><a class="toclink" href="#perf-subsystem-introduction">Perf subsystem introduction</a></h3>
<p>One of the goals of kernel perf subsystem is to instrument CPU performance counters that allow to profile applications.
Profiling is performed by setting up performance counters that count hardware events (e.g. number of retired
instructions, number of cache misses). The counters are CPU hardware registers and amount of them is limited.</p>
<p>Other goals of perf subsystem (such as tracing) are beyond the scope of this documentation and you can follow Further
Reading section below to learn more about them.</p>
<p>Familiarize yourself with following perf-event-related terms:
* <code>multiplexing</code> - 2nd Generation Intel® Xeon® Scalable Processors provides 4 counters per each hyper thread. If number
of configured events is greater than number of available counters then Linux will multiplex counting and some (or even
all) of the events will not be accounted for all the time. In such situation information about amount of time that event
was accounted for and amount of time when event was enabled is provided. Counter value that cAdvisor exposes is scaled
automatically.
* <code>grouping</code> - in scenario when accounted for events are used to calculate derivative metrics, it is reasonable to
measure them in transactional manner: all the events in a group must be accounted for in the same period of time. Keep
in mind that it is impossible to group more events that there are counters available.
* <code>uncore events</code> - events which can be counted by PMUs outside core.
* <code>PMU</code> - Performance Monitoring Unit</p>
<h4 id="getting-config-values"><a class="toclink" href="#getting-config-values">Getting config values</a></h4>
<p>Using perf tools:
* Identify the event in <code>perf list</code> output.
* Execute command: <code>perf stat -I 5000 -vvv -e EVENT_NAME</code>
* Find <code>perf_event_attr</code> section on <code>perf stat</code> output, copy config and type field to configuration file.</p>
<p><div class="highlight"><pre><span></span><code>------------------------------------------------------------
perf_event_attr:
  type                             18
  size                             112
  config                           0x304
  sample_type                      IDENTIFIER
  read_format                      TOTAL_TIME_ENABLED|TOTAL_TIME_RUNNING
  disabled                         1
  inherit                          1
  exclude_guest                    1
------------------------------------------------------------
</code></pre></div>
* Configuration file should look like:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;event_name&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;custom_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0x304&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;event_name&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;uncore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;event_name&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;custom_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0x304&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;event_name&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Config values can be also obtain from:
* <a href="https://software.intel.com/content/www/us/en/develop/download/intel-64-and-ia32-architectures-performance-monitoring-events.html">Intel® 64 and IA32 Architectures Performance Monitoring Events</a></p>
<h5 id="uncore-events-configuration"><a class="toclink" href="#uncore-events-configuration">Uncore Events configuration</a></h5>
<p>Uncore Event name should be in form <code>PMU_PREFIX/event_name</code> where <strong>PMU_PREFIX</strong> mean
that statistics would be counted on all PMUs with that prefix in name.</p>
<p>Let's explain this by example:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;uncore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;uncore_imc/cas_count_read&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;uncore_imc_0/cas_count_write&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;cas_count_all&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;custom_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0x304&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uncore_imc_0/cas_count_write&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0x304&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cas_count_all&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ul>
<li>
<p><code>uncore_imc/cas_count_read</code> - because of <code>uncore_imc</code> type and no entry in custom events,
    it would be counted by <strong>all</strong> Integrated Memory Controller PMUs with config provided from libpfm package.
    (using this function: <a href="https://man7.org/linux/man-pages/man3/pfm_get_os_event_encoding.3.html">https://man7.org/linux/man-pages/man3/pfm_get_os_event_encoding.3.html</a>)</p>
</li>
<li>
<p><code>uncore_imc_0/cas_count_write</code> - because of <code>uncore_imc_0</code> type and entry in custom events it would be counted by <code>uncore_imc_0</code> PMU with provided config.</p>
</li>
<li>
<p><code>uncore_imc_1/cas_count_all</code> - because of entry in custom events with type field, event would be counted by PMU with <strong>19</strong> type and provided config.</p>
</li>
</ul>
<h4 id="configuring-perf-events-by-name"><a class="toclink" href="#configuring-perf-events-by-name">Configuring perf events by name</a></h4>
<p>It is possible to configure perf events by names using events supported in <a href="http://perfmon2.sourceforge.net/">libpfm4</a>, for detailed information please see <a href="http://perfmon2.sourceforge.net/docs_v4.html">libpfm4 documentation</a>.</p>
<p>Discovery of perf events supported on platform can be made using python script - <a href="https://sourceforge.net/p/perfmon2/libpfm4/ci/master/tree/python/src/pmu.py">pmu.py</a> provided with libpfm4, please see <a href="https://sourceforge.net/p/perfmon2/libpfm4/ci/master/tree/python/README">script reqirements</a>.</p>
<h5 id="example-configuration-of-perf-events-using-event-names-supported-in-libpfm4"><a class="toclink" href="#example-configuration-of-perf-events-using-event-names-supported-in-libpfm4">Example configuration of perf events using event names supported in libpfm4</a></h5>
<p>Example output of <code>pmu.py</code>:
<div class="highlight"><pre><span></span><code>$ python pmu.py
INSTRUCTIONS 1
         u 0
         k 1
         period 3
         freq 4
         precise 5
         excl 6
         mg 7
         mh 8
         cpu 9
         pinned 10
INSTRUCTION_RETIRED 192
         e 2
         i 3
         c 4
         t 5
         intx 7
         intxcp 8
         u 0
         k 1
         period 3
         freq 4
         excl 6
         mg 7
         mh 8
         cpu 9
         pinned 10
UNC_M_CAS_COUNT 4
         RD 3
         WR 12
         e 0
         i 1
         t 2
         period 3
         freq 4
         excl 6
         cpu 9
         pinned 10
</code></pre></div>
and perf events configuration for listed events:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;instructions&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;instruction_retired&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;uncore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;uncore_imc/unc_m_cas_count:rd&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;uncore_imc/unc_m_cas_count:wr&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Notice: PMU_PREFIX is provided in the same way as for configuration with config values.</p>
<h4 id="grouping"><a class="toclink" href="#grouping">Grouping</a></h4>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;instructions&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;instruction_retired&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;uncore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;uncore_imc_0/unc_m_cas_count:rd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;uncore_imc_0/unc_m_cas_count:wr&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span><span class="s2">&quot;uncore_imc_1/unc_m_cas_count:rd&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;uncore_imc_1/unc_m_cas_count:wr&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="further-reading"><a class="toclink" href="#further-reading">Further reading</a></h3>
<ul>
<li><a href="http://www.brendangregg.com/perf.html">perf Examples</a> on Brendan Gregg's blog</li>
<li><a href="https://perf.wiki.kernel.org/index.php/Main_Page">Kernel Perf Wiki</a></li>
<li><code>man perf_event_open</code></li>
<li><a href="https://github.com/torvalds/linux/tree/v5.6/kernel/events">perf subsystem</a> in Linux kernel</li>
<li><a href="https://software.intel.com/content/www/us/en/develop/articles/intel-sdm.html#uncore">Uncore Performance Monitoring Reference Manuals</a></li>
</ul>
<p>See example configuration below:
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;core&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;instructions&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;instructions_retired&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;custom_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0x5300c0&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;instructions_retired&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;uncore&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;uncore_imc/cas_count_read&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;custom_events&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;config&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="s2">&quot;0xc04&quot;</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uncore_imc/cas_count_read&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>In the example above:
* <code>instructions</code> will be measured as a non-grouped event and is specified using human friendly interface that can be
obtained by calling <code>perf list</code>. You can use any name that appears in the output of <code>perf list</code> command. This is
interface that majority of users will rely on.
* <code>instructions_retired</code> will be measured as non-grouped event and is specified using an advanced API that allows
to specify any perf event available (some of them are not named and can't be specified with plain string). Event name
should be a human readable string that will become a metric name.
* <code>cas_count_read</code> will be measured as uncore non-grouped event on all Integrated Memory Controllers Performance Monitoring Units because of unset <code>type</code> field and
<code>uncore_imc</code> prefix.</p>
<h2 id="resctrl"><a class="toclink" href="#resctrl">Resctrl</a></h2>
<p>To gain metrics, cAdvisor creates own monitoring groups with <code>cadvisor</code> prefix.</p>
<p>Resctrl file system is not hierarchical like cgroups, so users should set <code>--docker_only</code> flag to avoid race conditions and unexpected behaviours.</p>
<div class="highlight"><pre><span></span><code>--resctrl_interval=0: Resctrl mon groups updating interval. Zero value disables updating mon groups.
</code></pre></div>
<h2 id="storage-driver-specific-instructions"><a class="toclink" href="#storage-driver-specific-instructions">Storage driver specific instructions:</a></h2>
<ul>
<li><a href="../storage/influxdb/">InfluxDB instructions</a>.</li>
<li><a href="../storage/elasticsearch/">ElasticSearch instructions</a>.</li>
<li><a href="../storage/kafka/">Kafka instructions</a>.</li>
<li><a href="../storage/prometheus/">Prometheus instructions</a>.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <p>&copy <a href="https://github.com/QubitPi"><em>QubitPi</em></a><br/><span>This project is licensed under the Apache license.</span></p>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.expand", "navigation.instant", "content.action.edit", "content.action.view", "content.code.annotate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>